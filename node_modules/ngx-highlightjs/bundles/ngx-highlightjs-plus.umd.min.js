!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("ngx-highlightjs"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-highlightjs/plus",["exports","@angular/core","@angular/common/http","ngx-highlightjs","rxjs","rxjs/operators"],e):e(((t=t||self)["ngx-highlightjs"]=t["ngx-highlightjs"]||{},t["ngx-highlightjs"].plus={}),t.ng.core,t.ng.common.http,t["ngx-highlightjs"],t.rxjs,t.rxjs.operators)}(this,(function(t,e,n,r,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function p(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var u=new e.InjectionToken("GIST_OPTIONS"),l=function(){function t(t,e){this._http=t,this._options=e}return t.prototype.getCodeFromGist=function(t){var e;return this.isOAuthProvided()&&(e=(new n.HttpParams).set("client_id",this._options.clientId).set("client_secret",this._options.clientSecret)),this.fetchFile("https://api.github.com/gists/"+t,{params:e,responseType:"json"})},t.prototype.getCodeFromUrl=function(t){return this.fetchFile(t,{responseType:"text"})},t.prototype.isOAuthProvided=function(){return!!this._options&&!!this._options.clientId&&!!this._options.clientSecret},t.prototype.fetchFile=function(t,e){return function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)}(t)?this._http.get(t,e).pipe(i.publishReplay(1),i.refCount(),i.catchError((function(t){return console.error("[NgxHighlight]: Unable to fetch the URL!",t.message),o.EMPTY}))):o.EMPTY},t.ctorParameters=function(){return[{type:n.HttpClient},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[u]}]}]},t.ɵprov=e["ɵɵdefineInjectable"]({factory:function(){return new t(e["ɵɵinject"](n.HttpClient),e["ɵɵinject"](u,8))},token:t,providedIn:"root"}),t=s([e.Injectable({providedIn:"root"}),p(1,e.Optional()),p(1,e.Inject(u)),c("design:paramtypes",[n.HttpClient,Object])],t)}();var a=function(){function t(t){this._loader=t,this.gistLoad=new e.EventEmitter}return Object.defineProperty(t.prototype,"gist",{set:function(t){var e=this;t&&this._loader.getCodeFromGist(t).subscribe((function(t){return e.gistLoad.emit(t)}))},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:l}]},s([e.Input(),c("design:type",String),c("design:paramtypes",[String])],t.prototype,"gist",null),s([e.Output(),c("design:type",Object)],t.prototype,"gistLoad",void 0),t=s([e.Directive({selector:"[gist]"}),c("design:paramtypes",[l])],t)}(),f=function(){function t(){}return t.prototype.transform=function(t,e){return t&&t.files&&t.files[e]?t.files[e].content:null},t=s([e.Pipe({name:"gistFile"})],t)}(),h=function(){function t(t){this._loader=t}return t.prototype.transform=function(t){return this._loader.getCodeFromUrl(t)},t.ctorParameters=function(){return[{type:l}]},t=s([e.Pipe({name:"codeFromUrl"}),c("design:paramtypes",[l])],t)}(),g=function(){function t(){}return t=s([e.NgModule({imports:[r.HighlightModule,n.HttpClientModule],declarations:[a,f,h],exports:[r.HighlightModule,a,f,h]})],t)}();t.CodeFromUrlPipe=h,t.CodeLoader=l,t.GIST_OPTIONS=u,t.GistDirective=a,t.GistFilePipe=f,t.HighlightPlusModule=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-highlightjs-plus.umd.min.js.map