import { __decorate, __metadata } from "tslib";
import { Directive, Pipe, Input, Output, EventEmitter } from '@angular/core';
import { CodeLoader } from './code-loader';
var GistDirective = /** @class */ (function () {
    function GistDirective(_loader) {
        this._loader = _loader;
        this.gistLoad = new EventEmitter();
    }
    Object.defineProperty(GistDirective.prototype, "gist", {
        set: function (value) {
            var _this = this;
            if (value) {
                this._loader.getCodeFromGist(value).subscribe(function (gist) { return _this.gistLoad.emit(gist); });
            }
        },
        enumerable: true,
        configurable: true
    });
    GistDirective.ctorParameters = function () { return [
        { type: CodeLoader }
    ]; };
    __decorate([
        Input(),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], GistDirective.prototype, "gist", null);
    __decorate([
        Output(),
        __metadata("design:type", Object)
    ], GistDirective.prototype, "gistLoad", void 0);
    GistDirective = __decorate([
        Directive({
            selector: '[gist]'
        }),
        __metadata("design:paramtypes", [CodeLoader])
    ], GistDirective);
    return GistDirective;
}());
export { GistDirective };
var GistFilePipe = /** @class */ (function () {
    function GistFilePipe() {
    }
    GistFilePipe.prototype.transform = function (gist, fileName) {
        return (gist && gist.files && gist.files[fileName]) ? gist.files[fileName].content : null;
    };
    GistFilePipe = __decorate([
        Pipe({
            name: 'gistFile'
        })
    ], GistFilePipe);
    return GistFilePipe;
}());
export { GistFilePipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2lzdC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1oaWdobGlnaHRqcy9wbHVzLyIsInNvdXJjZXMiOlsiZ2lzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBaUIsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFNM0M7SUFFRSx1QkFBb0IsT0FBbUI7UUFBbkIsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQVU3QixhQUFRLEdBQUcsSUFBSSxZQUFZLEVBQVEsQ0FBQztJQVQ5QyxDQUFDO0lBR0Qsc0JBQVksK0JBQUk7YUFBaEIsVUFBaUIsS0FBYTtZQUQ5QixpQkFLQztZQUhDLElBQUksS0FBSyxFQUFFO2dCQUNULElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFDLElBQVUsSUFBSyxPQUFBLEtBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUF4QixDQUF3QixDQUFDLENBQUM7YUFDekY7UUFDSCxDQUFDOzs7T0FBQTs7Z0JBUjRCLFVBQVU7O0lBSXZDO1FBREMsS0FBSyxFQUFFOzs7NkNBS1A7SUFFUztRQUFULE1BQU0sRUFBRTs7bURBQXFDO0lBWm5DLGFBQWE7UUFIekIsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLFFBQVE7U0FDbkIsQ0FBQzt5Q0FHNkIsVUFBVTtPQUY1QixhQUFhLENBYXpCO0lBQUQsb0JBQUM7Q0FBQSxBQWJELElBYUM7U0FiWSxhQUFhO0FBa0IxQjtJQUFBO0lBSUEsQ0FBQztJQUhDLGdDQUFTLEdBQVQsVUFBVSxJQUFVLEVBQUUsUUFBZ0I7UUFDcEMsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUM1RixDQUFDO0lBSFUsWUFBWTtRQUh4QixJQUFJLENBQUM7WUFDSixJQUFJLEVBQUUsVUFBVTtTQUNqQixDQUFDO09BQ1csWUFBWSxDQUl4QjtJQUFELG1CQUFDO0NBQUEsQUFKRCxJQUlDO1NBSlksWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgUGlwZSwgSW5wdXQsIE91dHB1dCwgUGlwZVRyYW5zZm9ybSwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb2RlTG9hZGVyIH0gZnJvbSAnLi9jb2RlLWxvYWRlcic7XG5pbXBvcnQgeyBHaXN0IH0gZnJvbSAnLi9naXN0Lm1vZGVsJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW2dpc3RdJ1xufSlcbmV4cG9ydCBjbGFzcyBHaXN0RGlyZWN0aXZlIHtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9sb2FkZXI6IENvZGVMb2FkZXIpIHtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIHByaXZhdGUgc2V0IGdpc3QodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5fbG9hZGVyLmdldENvZGVGcm9tR2lzdCh2YWx1ZSkuc3Vic2NyaWJlKChnaXN0OiBHaXN0KSA9PiB0aGlzLmdpc3RMb2FkLmVtaXQoZ2lzdCkpO1xuICAgIH1cbiAgfVxuXG4gIEBPdXRwdXQoKSBnaXN0TG9hZCA9IG5ldyBFdmVudEVtaXR0ZXI8R2lzdD4oKTtcbn1cblxuQFBpcGUoe1xuICBuYW1lOiAnZ2lzdEZpbGUnXG59KVxuZXhwb3J0IGNsYXNzIEdpc3RGaWxlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICB0cmFuc2Zvcm0oZ2lzdDogR2lzdCwgZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiAoZ2lzdCAmJiBnaXN0LmZpbGVzICYmIGdpc3QuZmlsZXNbZmlsZU5hbWVdKSA/IGdpc3QuZmlsZXNbZmlsZU5hbWVdLmNvbnRlbnQgOiBudWxsO1xuICB9XG59XG4iXX0=